# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Publix
GET     /publix/:studyId/start                           @publix.controllers.PublixInterceptor.startStudy(studyId: Long)
GET     /publix/:studyId/end                             @publix.controllers.PublixInterceptor.finishStudy(studyId: Long, successful: Boolean ?= true, errorMsg: String ?= null)
GET     /publix/:studyId/abort                           @publix.controllers.PublixInterceptor.abortStudy(studyId: Long, message: String ?= null)
GET     /publix/:studyId/joinGroup                       @publix.controllers.PublixInterceptor.joinGroup(studyId: Long)
GET     /publix/:studyId/dropGroup                       @publix.controllers.PublixInterceptor.dropGroup(studyId: Long)
GET     /publix/:studyId/systemChannel                   @publix.controllers.PublixInterceptor.systemChannel(studyId: Long)
GET     /publix/:studyId/groupChannel                    @publix.controllers.PublixInterceptor.groupChannel(studyId: Long)
POST    /publix/:studyId/setSessionData                  @publix.controllers.PublixInterceptor.setStudySessionData(studyId: Long)
# Start component by ID
GET     /publix/:studyId/:componentId/start              @publix.controllers.PublixInterceptor.startComponent(studyId: Long, componentId: Long)
GET     /publix/:studyId/:componentId/end                @publix.controllers.PublixInterceptor.finishComponent(studyId: Long, componentId: Long, successful: Boolean ?= true, errorMsg: String ?= null)
# Start component by position
GET     /publix/:studyId/startComponent                  @publix.controllers.PublixInterceptor.startComponentByPosition(studyId: Long, position: Integer)
GET     /publix/:studyId/startNextComponent              @publix.controllers.PublixInterceptor.startNextComponent(studyId: Long)
GET     /publix/:studyId/:componentId/initData           @publix.controllers.PublixInterceptor.getInitData(studyId: Long, componentId: Long)
POST    /publix/:studyId/:componentId/submitResultData   @publix.controllers.PublixInterceptor.submitResultData(studyId: Long, componentId: Long)
POST    /publix/:studyId/:componentId/logError           @publix.controllers.PublixInterceptor.logError(studyId: Long, componentId: Long)

# JATOS
GET     /jatos/login                                 @controllers.Authentication.login()
POST    /jatos/login                                 @controllers.Authentication.authenticate()
GET     /jatos/logout                                @controllers.Authentication.logout()
GET     /jatos/sidebarStudyList                      @controllers.Home.sidebarStudyList()
GET     /jatos                                       @controllers.Home.home()
GET     /jatos/                                      @controllers.Home.home()
GET     /                                            @controllers.Home.home()
GET     /jatos/admin/log                             @controllers.Home.log(limit: Integer ?= 1000)
GET     /jatos/user/create                           @controllers.Users.create()
POST    /jatos/user/create                           @controllers.Users.submit()
GET     /jatos/user/:email/editProfile               @controllers.Users.editProfile(email: String)
POST    /jatos/user/:email/editProfile               @controllers.Users.submitEditedProfile(email: String)
GET     /jatos/user/:email/changePassword            @controllers.Users.changePassword(email: String)
POST    /jatos/user/:email/changePassword            @controllers.Users.submitChangedPassword(email: String)
GET     /jatos/user/:email                           @controllers.Users.profile(email: String)
GET     /jatos/worker/:workerId                      @controllers.Workers.index(workerId: Long)
DELETE  /jatos/worker/:workerId/remove               @controllers.Workers.remove(workerId: Long)
GET     /jatos/worker/:workerId/exportAllResultData  @controllers.ImportExport.exportAllResultDataOfWorker(workerId: Long)
GET     /jatos/worker/:workerId/removeAllResultData  @controllers.StudyResults.removeAllOfWorker(workerId: Long)
GET     /jatos/worker/:workerId/tableData            @controllers.StudyResults.tableDataByWorker(workerId: Long)
GET     /jatos/studyresult/exportResultData          @controllers.ImportExport.exportDataOfStudyResults(studyResultIds: String)
GET     /jatos/studyresult/remove                    @controllers.StudyResults.remove(studyResultIds: String)
GET     /jatos/componentresult/exportResultData      @controllers.ImportExport.exportDataOfComponentResults(componentResultIds: String)
GET     /jatos/componentresult/remove                @controllers.ComponentResults.remove(componentResultIds: String)
GET     /jatos/createStudy                           @controllers.Studies.create()
POST    /jatos/createStudy                           @controllers.Studies.submit()
POST    /jatos/importStudy                           @controllers.ImportExport.importStudy()
POST    /jatos/importStudyConfirmed                  @controllers.ImportExport.importStudyConfirmed()
GET     /jatos/:studyId/edit                         @controllers.Studies.edit(studyId: Long)
POST    /jatos/:studyId/edit                         @controllers.Studies.submitEdited(studyId: Long)
GET     /jatos/:studyId/changeMembers                @controllers.Studies.changeMembers(studyId: Long)
POST    /jatos/:studyId/changeMembers                @controllers.Studies.submitChangedMembers(studyId: Long)
DELETE  /jatos/:studyId/remove                       @controllers.Studies.remove(studyId: Long)
POST    /jatos/:studyId/changeComponentOrder         @controllers.Studies.changeComponentOrder(studyId: Long, componentId: Long, newPosition: String)
GET     /jatos/:studyId/mturk                        @controllers.Studies.showMTurkSourceCode(studyId: Long)
GET     /jatos/:studyId/show                         @controllers.Studies.showStudy(studyId: Long)
POST    /jatos/:studyId/createPersonalSingleRun      @controllers.Studies.createPersonalSingleRun(studyId: Long)
POST    /jatos/:studyId/createPersonalMultipleRun    @controllers.Studies.createPersonalMultipleRun(studyId: Long)
GET     /jatos/:studyId/clone                        @controllers.Studies.cloneStudy(studyId: Long)
GET     /jatos/:studyId/export                       @controllers.ImportExport.exportStudy(studyId: Long)
POST    /jatos/:studyId/swapLock                     @controllers.Studies.swapLock(studyId: Long)
GET     /jatos/:studyId/results                      @controllers.StudyResults.index(studyId: Long)
GET     /jatos/:studyId/resultsTableData             @controllers.StudyResults.tableDataByStudy(studyId: Long)
GET     /jatos/:studyId/exportAllResultData          @controllers.ImportExport.exportDataOfAllStudyResults(studyId: Long)
GET     /jatos/:studyId/removeAllResults             @controllers.StudyResults.removeAllOfStudy(studyId: Long)
GET     /jatos/:studyId/componentsTableData          @controllers.Studies.tableDataByStudy(studyId: Long)
GET     /jatos/:studyId/workersTableData             @controllers.Workers.tableDataByStudy(studyId: Long)
GET     /jatos/:studyId/workers                      @controllers.Studies.workers(studyId: Long)
GET     /jatos/:studyId                              @controllers.Studies.index(studyId: Long)
GET     /jatos/:studyId/                             @controllers.Studies.index(studyId: Long)
GET     /jatos/:studyId/createComponent              @controllers.Components.create(studyId: Long)
POST    /jatos/:studyId/createComponent              @controllers.Components.submit(studyId: Long)
POST    /jatos/:studyId/importComponent              @controllers.ImportExport.importComponent(studyId: Long)
POST    /jatos/:studyId/importComponentConfirmed     @controllers.ImportExport.importComponentConfirmed(studyId: Long)
GET     /jatos/:studyId/:componentId/edit            @controllers.Components.edit(studyId: Long, componentId: Long)
POST    /jatos/:studyId/:componentId/edit            @controllers.Components.submitEdited(studyId: Long, componentId: Long)
POST    /jatos/:studyId/:componentId/changeProperty  @controllers.Components.changeProperty(studyId: Long, componentId: Long, active: Boolean)
DELETE  /jatos/:studyId/:componentId/remove          @controllers.Components.remove(studyId: Long, componentId: Long)
GET     /jatos/:studyId/:componentId/results         @controllers.ComponentResults.index(studyId: Long, componentId: Long)
GET     /jatos/:studyId/:componentId/tableData       @controllers.ComponentResults.tableDataByComponent(studyId: Long, componentId: Long)
GET     /jatos/:studyId/:componentId/exportAllResultData  @controllers.ImportExport.exportDataOfAllComponentResults(studyId: Long, componentId: Long)
GET     /jatos/:studyId/:componentId/removeAllResults  @controllers.ComponentResults.removeAllOfComponent(studyId: Long, componentId: Long)
GET     /jatos/:studyId/:componentId/show            @controllers.Components.showComponent(studyId: Long, componentId: Long)
GET     /jatos/:studyId/:componentId/clone           @controllers.Components.cloneComponent(studyId: Long, componentId: Long)
GET     /jatos/:studyId/:componentId/export          @controllers.ImportExport.exportComponent(studyId: Long, componentId: Long)

# Static resources (not managed by the Play framework)
GET     /study_assets/*file                @publix.controllers.StudyAssets.at(file)
GET     /assets/*file                      controllers.Assets.at(path = "/public", file)
GET     /webjars/*file                     controllers.WebJarAssets.at(file)
