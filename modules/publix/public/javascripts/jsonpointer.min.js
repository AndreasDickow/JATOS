(function(){"use strict";var r=[["/","~1"],["~","~0"]],t=/(\/[^\/]*)+/,n='Implementation does not support "-" token for arrays.',e="JSON document is not valid.",o="JSON document must be a string or object.",i="Pointer is not valid.",u="Non-number tokens cannot be used in array context.",f="Token with leading zero cannot be used in array context.";function a(t,e){if(e=function(t){for(var n,e,o,i,u=t,f=0;f<r.length;f++)n=(o=r[f])[0],e=o[1],i=new RegExp(e,"g"),u=u.replace(i,n);return u}(e),o=t,Array.isArray?Array.isArray(o):"[object Array]"===Object.prototype.toString.call(o)){if("-"===e)throw c(n);if(isNaN(Number(e)))throw c(u);if(e.length>1&&"0"===e[0])throw c(f);return t[e]}var o;if(s(t))return t[e]}function c(r){return new Error("JSON Pointer: "+r)}function s(r){return"object"==typeof r&&null!==r}function p(r){return"string"==typeof r||r instanceof String}function d(r){return void 0===r}var l={get:function(r,n){if(p(r))try{r=JSON.parse(r)}catch(r){throw c(e)}else if(!s(r))throw c(o);var u=function(r){var n={};return function(e){if(!function(r){if(!p(r))return!1;if(""===r)return!0;return t.test(r)}(e))throw c(i);if(n.hasOwnProperty(e))return n[e];for(var o,u=function(r){var t=r.split("/").reverse();return t.pop(),t}(e),f=r;!d(f)&&!d(o=u.pop());)f=a(f,o);return n[e]=f,f}}(r);return d(n)?u:u(n)}};"object"==typeof exports?module.exports=l:"function"==typeof define&&define.amd?define((function(){return l})):this.jsonpointer=l}).call(function(){"use strict";return"undefined"!=typeof window?window:this}());