"use strict";var requests=[],running=!1;function run(){if(0!=requests.length){var t,e=requests.shift(),n=new XMLHttpRequest;n.open(e.method,e.url),e.contentType&&n.setRequestHeader("Content-Type",e.contentType),e.timeout&&(n.timeout=e.timeout),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.onload=function(){200==n.status?(self.postMessage({status:n.status,requestId:e.id}),run()):o(!1)},n.ontimeout=function(){o(!0)},n.onerror=function(){o(!1)},"data"in e?t=e.data:"blob"in e&&(t=new FormData).append("file",e.blob,e.filename),n.send(t)}else running=!1;function o(t){if("retry"in e==!1||e.retry<=0){var o={requestId:e.id,url:e.url,method:e.method};t?o.error="timeout":(o.status=n.status,o.statusText=n.statusText,o.error=n.responseText.trim()||null),self.postMessage(o)}else e.retry=e.retry-1,requests.unshift(e);setTimeout(run,e.retryWait)}}onmessage=function(t){t.data&&(requests.push(t.data),running||(running=!0,run()))},function(){if("undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){const t="object"==typeof window?window:"object"==typeof self?self:this,e=t.FormData,n=t.XMLHttpRequest&&t.XMLHttpRequest.prototype.send,o=t.Request&&t.fetch,s=t.navigator&&t.navigator.sendBeacon,a=t.Symbol&&Symbol.toStringTag;a&&(Blob.prototype[a]||(Blob.prototype[a]="Blob"),"File"in t&&!File.prototype[a]&&(File.prototype[a]="File"));try{new File([],"")}catch(e){t.File=function(t,e,n){const o=new Blob(t,n),s=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date;return Object.defineProperties(o,{name:{value:e},lastModifiedDate:{value:s},lastModified:{value:+s},toString:{value:()=>"[object File]"}}),a&&Object.defineProperty(o,a,{value:"File"}),o}}function i([t,e,n]){return e instanceof Blob&&(e=new File([e],n,{type:e.type,lastModified:e.lastModified})),[t,e]}function r(t,e){if(t.length<e)throw new TypeError(`${e} argument required, but only ${t.length} present.`)}function l(t,e,n){return e instanceof Blob?[String(t),e,void 0!==n?n+"":"string"==typeof e.name?e.name:"blob"]:[String(t),String(e)]}function u(t){return t.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n")}function p(t,e){for(let n=0;n<t.length;n++)e(t[n])}class d{constructor(t){if(this._data=[],!t)return this;const e=this;p(t.elements,(t=>{if(t.name&&!t.disabled&&"submit"!==t.type&&"button"!==t.type)if("file"===t.type){p(t.files&&t.files.length?t.files:[new File([],"",{type:"application/octet-stream"})],(n=>{e.append(t.name,n)}))}else if("select-multiple"===t.type||"select-one"===t.type)p(t.options,(n=>{!n.disabled&&n.selected&&e.append(t.name,n.value)}));else if("checkbox"===t.type||"radio"===t.type)t.checked&&e.append(t.name,t.value);else{const n="textarea"===t.type?u(t.value):t.value;e.append(t.name,n)}}))}append(){r(arguments,2);var[t,e,n]=l.apply(null,arguments);this._data.push([t,e,n])}delete(t){r(arguments,1);const e=[];t=String(t),p(this._data,(n=>{n[0]!==t&&e.push(n)})),this._data=e}*entries(){for(var t=0;t<this._data.length;t++)yield i(this._data[t])}forEach(t,e){r(arguments,1);for(const[n,o]of this)t.call(e,o,n,this)}get(t){r(arguments,1);const e=this._data;t=String(t);for(let n=0;n<e.length;n++)if(e[n][0]===t)return i(this._data[n])[1];return null}getAll(t){r(arguments,1);const e=[];t=String(t);for(let n=0;n<this._data.length;n++)this._data[n][0]===t&&e.push(i(this._data[n])[1]);return e}has(t){r(arguments,1),t=String(t);for(let e=0;e<this._data.length;e++)if(this._data[e][0]===t)return!0;return!1}*keys(){for(const[t]of this)yield t}set(t){r(arguments,2),t=String(t);const e=[];let n=!1;for(let o=0;o<this._data.length;o++){this._data[o][0]===t?n||(e[o]=l.apply(null,arguments),n=!0):e.push(this._data[o])}n||e.push(l.apply(null,arguments)),this._data=e}*values(){for(const[,t]of this)yield t}_asNative(){const t=new e;for(const[e,n]of this)t.append(e,n);return t}_blob(){const t="----formdata-polyfill-"+Math.random(),e=[];for(const[n,o]of this)e.push(`--${t}\r\n`),o instanceof Blob?e.push(`Content-Disposition: form-data; name="${n}"; filename="${o.name}"\r\n`,`Content-Type: ${o.type||"application/octet-stream"}\r\n\r\n`,o,"\r\n"):e.push(`Content-Disposition: form-data; name="${n}"\r\n\r\n${o}\r\n`);return e.push(`--${t}--`),new Blob(e,{type:"multipart/form-data; boundary="+t})}[Symbol.iterator](){return this.entries()}toString(){return"[object FormData]"}}if(a&&(d.prototype[a]="FormData"),n){const e=t.XMLHttpRequest.prototype.setRequestHeader;t.XMLHttpRequest.prototype.setRequestHeader=function(t,n){e.call(this,t,n),"content-type"===t.toLowerCase()&&(this._hasContentType=!0)},t.XMLHttpRequest.prototype.send=function(t){if(t instanceof d){const e=t._blob();this._hasContentType||this.setRequestHeader("Content-Type",e.type),n.call(this,e)}else n.call(this,t)}}if(o){const e=t.fetch;t.fetch=function(t,n){return n&&n.body&&n.body instanceof d&&(n.body=n.body._blob()),e.call(this,t,n)}}s&&(t.navigator.sendBeacon=function(t,e){return e instanceof d&&(e=e._asNative()),s.call(this,t,e)}),t.FormData=d}}();