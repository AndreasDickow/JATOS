@(studyList: List[MAStudy], component: MAComponent,
	study: MAStudy, loggedInUser: MAUser)

@admin.main(studyList, loggedInUser){

	<header>
		<hgroup>
			<h2>/ > </h2>
			<h3>@study.getId() @study.getTitle() > </h3>
			<h3>@component.getId() @component.getTitle() > </h3>
			<h4>Remove Results > </h4>
		</hgroup>
	</header>

	<article class="tasks" id="tasks">
		
		<form class="addTask" method="POST"
			action="@routes.Components.submitRemovedResults(study.getId(), component.getId())"
			onSubmit="return confirm('Are you sure you want to remove those results?');">
			<div class="folder" data-folder-id="@component.getId()">
				<header>
					@if(component.getResultList().isEmpty()) {
						<h3>No results so far</h3>
					} else {
						<h3>Which results should be removed?</h3>
					}
				</header>
				
				<ul class="list">
					<li data-task-id="@component.getId()">
						<input type="checkbox" name="@Components.RESULT" onClick="toggle(this)" value="none"/>
						Toggle All
					</li>
					@for(result <- component.getResultList()) {
						<li data-task-id="@component.getId()">
							<input type="checkbox" name="@Components.RESULT" value="@result.getId()" unchecked>
								@result.getId(), @result.getDate(), 
								@if(result.getWorker() != null) {
									@result.getWorker().getId()
								} else {
									none
								},
								@if(result.getState() != null){
									@result.getState()
								} else {
									none
								}<br>
								@result.getData()
						</li>
					}
					<li data-task-id="@component.getId()">
						<input type="checkbox" name="@Components.RESULT" onClick="toggle(this)" value="none"/>
						Toggle All
					</li>
				</ul>
			</div>
			<button id="newGroup" type="submit">Remove</button>
		</form>
		
	</article>
	
	<script language="JavaScript">
		function toggle(source) {
			checkboxes = $('[name="@Components.RESULT"]');
			for(var i = 0, n = checkboxes.length; i < n; i++) {
				checkboxes[i].checked = source.checked;
			}
		}
	</script>

}
