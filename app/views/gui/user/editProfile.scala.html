@(loggedInUser: UserModel,
breadcrumbs: String, user: UserModel, form: Form[UserModel])

@views.html.gui.main(loggedInUser, breadcrumbs){

@helper.form(action = controllers.gui.routes.Users.submitEditedProfile(user.getEmail()), 'class -> "form-horizontal", 'role -> "form") {

<div class="form-group">
	<label class="control-label col-xs-2" for="name">Name</label>
	<div class="col-xs-10">
		<input type="text" class="form-control" id="name" name="@UserModel.NAME" value="@form(UserModel.NAME).value" placeholder="Your name">
	</div>
</div>

<input type="hidden" name="@UserModel.EMAIL" value="@form(UserModel.EMAIL).value">

<div class="form-group">
	<div class="col-xs-offset-2 col-xs-10">
		<input type="submit" class="btn btn-primary" value="Update">
	</div>
</div>

}

<script>
@if(form.hasErrors) {
	showWarning("User profile wasn't updated");
}
@for(error <- form.globalErrors) {
	showError("@error.message");
}
@for(error <- form(UserModel.NAME).errors) {
	$('#name').closest(".form-group").addClass("has-error");
	$('#name').after('<span class="help-block">@error.message</span>');
}
</script>

}
