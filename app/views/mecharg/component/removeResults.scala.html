@(studyList: List[StudyModel], loggedInUser: UserModel, breadcrumbs: String,
	component: ComponentModel, study: StudyModel,
	componentResultList: List[results.ComponentResult])

@views.html.mecharg.main(studyList, loggedInUser, breadcrumbs){

	<article class="tasks" id="tasks">
		
		<form class="addTask" method="POST"
			action="@routes.Components.submitRemovedResults(study.getId(), component.getId())"
			onSubmit="return confirm('Are you sure you want to remove those results?');">
			<div class="folder" data-folder-id="@component.getId()">
				<header>
					@if(componentResultList.isEmpty()) {
						<h3>No results so far</h3>
					} else {
						<h3>Which results should be deleted?</h3>
					}
				</header>
				
				<ul class="list">
					<li data-task-id="@component.getId()">
						<input type="checkbox" name="@Components.RESULT" onClick="toggle(this)" value="none"/>
						Toggle All
					</li>
					@for(result <- componentResultList) {
						<li data-task-id="@component.getId()">
							<input type="checkbox" name="@Components.RESULT" value="@result.getId()" unchecked>
								@result.getId(), @result.getDate(), 
								@if(result.getStudyResult().getWorker() != null) {
									@result.getStudyResult().getWorker().getId()
								} else {
									none
								},
								@if(result.getState() != null){
									@result.getState()
								} else {
									none
								}<br>
								@result.getData()
						</li>
					}
					<li data-task-id="@component.getId()">
						<input type="checkbox" name="@Components.RESULT" onClick="toggle(this)" value="none"/>
						Toggle All
					</li>
				</ul>
			</div>
			<button id="newGroup" type="submit">Remove</button>
		</form>
		
	</article>
	
	<script language="JavaScript">
		function toggle(source) {
			checkboxes = $('[name="@Components.RESULT"]');
			for(var i = 0, n = checkboxes.length; i < n; i++) {
				checkboxes[i].checked = source.checked;
			}
		}
	</script>

}
