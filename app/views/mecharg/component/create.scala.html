@(studyList: List[StudyModel], loggedInUser: UserModel, breadcrumbs: String,
	study: StudyModel, form: Form[ComponentModel])

@views.html.mecharg.main(studyList, loggedInUser, breadcrumbs){

	<article class="tasks" id="tasks">
		<div class="folder">
		
			@helper.form(action = routes.Components.submit(study.getId()), 'class -> "addTask") {
				@if(form.hasGlobalErrors) {
					<p class="error">
						@form.globalError.message
					</p>
				}
				
				@for(error <- form(ComponentModel.TITLE).errors) {
					<p class="error">@error.message</p>
				}
				<input type="text" name="@ComponentModel.TITLE"
					class="formTop" placeholder="Title"
					value="@form(ComponentModel.TITLE).value">
				
				<!-- We need a hidden input field.
				 http://stackoverflow.com/questions/8204708/how-do-i-bind-a-checkbox-to-a-boolean-in-play-framework -->
				<input type="checkbox" class="reloadable" name="@ComponentModel.RELOADABLE" value="true"
					@if("true".equals(form("reloadable").value)) {
						checked="checked"
					}>
				<input type="hidden" name="@ComponentModel.RELOADABLE" value="false" />
				<p class="reloadable">Allow participants to reload</p>
				
				@for(error <- form(ComponentModel.VIEW_URL).errors) {
					<p class="error">@error.message</p>
				}
				<input type="text" name="@ComponentModel.VIEW_URL"
					class="formMiddle" placeholder="URL or path of the actual component"
					value="@form(ComponentModel.VIEW_URL).value">
				
				@for(error <- form(ComponentModel.JSON_DATA).errors) {
					<p class="error">@error.message</p>
				}
				<textarea name="@ComponentModel.JSON_DATA" class="formJsonData"
					placeholder="JSON data - put your JSON string here."
					>@form(ComponentModel.JSON_DATA).value</textarea>
				
				<button id="newGroup" type="submit">Create</button>
			}
		</div>
	</article>

}
